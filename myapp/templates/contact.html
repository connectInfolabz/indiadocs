{% extends 'base.html'%}

{% block content %}
      <main role="main" class="main-content">
        <div class="container-fluid">
          <div class="row justify-content-center">
            <div class="col-12">
              <h2 class="page-title">Contact Us</h2>
              <p class="text-muted">We Will Get in Touch With You Shortly</p>
              <hr class="my-4">
              <div class="card shadow mb-4">
                <div class="card-header">
                  <strong class="card-title">Contact Form</strong>
                </div>
                <div class="card-body">
                  <form action="/getcontact" method="POST" onsubmit="return formValidation()">
                        {% csrf_token %}
                      <div class="row">
                          <div class="col-12">
                            <div class="form-group mb-3">
                              <label for="name">Name</label>
                              <input type="text" id="name" class="form-control" name="name" placeholder="Enter Your Full Name" required>
                            </div>
                          </div>
                          <div class="col-12">
                            <div class="form-group mb-3">
                              <label for="email">Email</label>
                              <input type="email" id="email" name="mail" class="form-control" placeholder="Email" required>
                              We'll never share your email with anyone
                            </div>
                          </div>
                          <div class="col-12">
                            <div class="form-group mb-3">
                              <label for="pNumber">Phone</label>
                              <input type="tel" id="pNumber" class="form-control" name="number" placeholder="Enter Phone Number" required>
                            </div>
                          </div>
                          <div class="col-12">
                            <div class="form-group mb-3">
                              <label for="msg">Your Message</label>
                              <textarea class="form-control" id="msg" name="message" rows="5" placeholder="Write Your Message" required></textarea>
                            </div>
                          </div>
                          <div class="col-12">
                            <div class="form-group mb-3">
                              <button class="btn btn-large btn-block btn-primary" type="submit">Submit</button>
                            </div>
                          </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div> <!-- / .card -->
            </div> <!-- .col-12 -->
          </div> <!-- .row -->
        </div> <!-- .container-fluid -->
      </main>
<script>// Select all input elements for verification

    const userName = document.getElementById("name");
    const email = document.getElementById("email");
    const message = document.getElementById("msg");
    const number = document.getElementById("pNumber");
    // function for form verification
    function formValidation() {
      // checking length of name
      if (userName.value.length < 2 || userName.value.length > 50) {
        alert("First Name length should be more than 2 and less than 30 characters");
        userName.focus();
        return false;
      }


      // Check E-mail Is Valid
      if (!email.value.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)) {
        alert("Please Enter Valid Email");
        email.focus();
        return false;
          }

       // checking phone number
       if (!number.value.match(/^[1-9][0-9]{9}$/)) {
        alert("Phone number must be 10 characters long number and first digit can't be 0!");
        number.focus();
        return false;
      }
      if (message.value.length < 10) {
        alert("Message length should be more than 10 Characters");
        message.focus();
        return false;
      }

    }

    </script>
{% endblock %}